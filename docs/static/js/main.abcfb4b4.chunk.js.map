{"version":3,"sources":["components/expense-list/ExpenseIcon.js","components/expense-list/ExpenseDetail.js","components/expense-list/ExpenseList.js","components/expense-form/ExpenseCategory.js","components/expense-form/ExpenseForm.js","components/LoadingBar.js","services/SheetService.js","App.js","index.js","registerServiceWorker.js"],"names":["ExpenseIcon","className","this","props","icon","role","aria-hidden","Component","ExpenseDetail","onClick","onSelect","expense","category","topic","date","description","replace","amount","ExpenseList","expenses","map","key","id","ExpenseCategory","componentProps","Option","components","customSelectOption","p","data","label","customSelectValue","value","onChange","options","SingleValue","ExpenseForm","handleInputChange","event","target","reportValidity","setState","isValid","form","checkValidity","name","handleCategoryChange","Error","handleSubmit","preventDefault","parseDate","onSubmit","initializeDeleteModal","element","dialog","MDCDialog","listen","document","body","onDelete","state","querySelectorAll","forEach","selector","MDCTextfield","undefined","amountInput","focus","indexOf","parts","split","year","month","length","day","ref","noValidate","type","el","step","min","required","icons","topics","categories","c","account","accounts","disabled","show","onCancel","LoadingBar","width","height","xmlns","viewBox","preserveAspectRatio","cx","cy","r","fill","attributeName","values","keyTimes","keySplines","calcMode","dur","repeatCount","begin","SheetService","clientId","spreadsheetId","signedInChangedCallback","window","gapi","load","client","init","discoveryDocs","scope","then","getAuthInstance","isSignedIn","get","auth2","sheets","spreadsheets","append","range","valueInputOption","insertDataOption","update","row","batchUpdate","resource","requests","deleteDimension","sheetId","dimension","startIndex","endIndex","batchGet","ranges","App","onKeyPressed","e","signedIn","showExpenseForm","keyCode","onExpenseNew","handleExpenseCancel","signedInChanged","handleExpenseSubmit","processing","bind","submitAction","snackbar","message","response","console","error","loading","handleExpenseChange","attribute","Object","assign","handleExpenseDelete","expenseRow","substring","sheetService","delete","handleExpenseSelect","currentMonth","previousMonth","login","addEventListener","now","Date","getFullYear","getMonth","getDate","index","substr","formatExpense","result","valueRanges","items","i","Math","parseExpense","reverse","slice","aria-label","alt","signIn","signOut","renderBody","MDCSnackbar","aria-live","aria-atomic","renderExpenses","ReactDOM","render","getElementById","navigator","swUrl","process","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch"],"mappings":"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","file":"static/js/main.abcfb4b4.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class ExpenseIcon extends Component {\n  render() {\n    return (\n      <span\n        className={`mdc-list-item__start-detail ${this.props.icon}`}\n        role=\"presentation\"\n      >\n        <i className=\"material-icons\" aria-hidden=\"true\">\n          {this.props.icon || 'attach_money'}\n        </i>\n      </span>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ExpenseIcon from \"./ExpenseIcon\";\n\nexport default class ExpenseDetail extends Component {\n\n  render() {\n    return (\n      <li\n        className=\"mdc-list-item\"\n        onClick={() => this.props.onSelect(this.props.expense)}\n      >\n        <ExpenseIcon icon={this.props.expense.icon} />\n        <span className=\"mdc-list-item__text\">\n          {this.props.expense.category} ({this.props.expense.topic})\n          <span className=\"mdc-list-item__text__secondary\">\n            {this.props.expense.date}\n            {this.props.expense.description\n              ? ` ${this.props.expense.description.replace(/^(.{14}).+/, \"$1…\")}`\n              : \"\"}\n          </span>\n        </span>\n        <span className=\"mdc-list-item__end-detail\">\n          ${this.props.expense.amount}\n        </span>\n      </li>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ExpenseDetail from \"./ExpenseDetail.js\"\nimport \"@material/list/dist/mdc.list.css\";\nimport \"./ExpenseList.css\";\n\nclass ExpenseList extends Component {\n  render() {\n    return (\n      <ul className=\"mdc-list mdc-list--two-line mdc-list--avatar-list\">\n        {this.props.expenses.map(expense =>\n          <ExpenseDetail\n            key={expense.id}\n            expense={expense}\n            onSelect={this.props.onSelect}\n          />\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default ExpenseList;\n","import React, { Component } from 'react';\nimport Select, { components } from 'react-select'\n\nexport default class ExpenseCategory extends Component {\n    constructor(componentProps) {\n        super(componentProps);\n\n        const { Option } = components\n        this.customSelectOption = p => (\n            <Option {...p}>\n                <i className=\"material-icons\" aria-hidden=\"true\">\n                    {p.data.icon || 'attach_money'}\n                </i>\n\n                {p.data.label}\n            </Option>\n        );\n\n        this.customSelectValue = props => (\n            <div>\n                <i className=\"material-icons\" aria-hidden=\"true\">\n                    {props.data.icon || 'attach_money'}\n                </i>\n\n                {props.data.label}\n            </div>\n        );\n    }\n    render() {\n        return (\n            <Select\n                value={this.props.value}\n                onChange={this.props.onChange}\n                options={this.props.options}\n                components={{ Option: this.customSelectOption, SingleValue: this.customSelectValue }}\n            />\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { MDCTextfield } from \"@material/textfield/dist/mdc.textfield.js\";\nimport { MDCDialog } from \"@material/dialog/dist/mdc.dialog.js\";\n\nimport \"@material/form-field/dist/mdc.form-field.css\";\nimport \"@material/select/dist/mdc.select.css\";\nimport \"@material/textfield/dist/mdc.textfield.css\";\nimport \"@material/button/dist/mdc.button.css\";\nimport \"@material/dialog/dist/mdc.dialog.css\";\n\nimport \"./ExpenseForm.css\";\nimport ExpenseCategory from \"./ExpenseCategory\";\n\nclass ExpenseForm extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { isValid: false };\n    }\n\n    handleInputChange = (event) => {\n        const target = event.target;\n        target.reportValidity();\n        this.setState({ isValid: this.form.checkValidity() });\n        this.props.onChange(target.name, target.value);\n    }\n\n    handleCategoryChange = (event) => {\n        const value = event.value;\n        if (!value) {\n            throw new Error('Category cannot be empty');\n        }\n        this.setState({ isValid: this.form.checkValidity() });\n        this.props['expense']['category'] = value;\n        this.props['expense']['topic'] = 'topic-mock';\n        this.props['expense']['icon'] = 'face';\n    }\n\n    componentDidMount() {\n        document.querySelectorAll(\".mdc-textfield\").forEach(selector => {\n            new MDCTextfield(selector);\n        });\n        if (this.props.expense.id === undefined) {\n            this.amountInput.focus();\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props['expense']['date'] = this.parseDate(this.props['expense']['date']);\n        this.props.onSubmit();\n    }\n\n    initializeDeleteModal = (element) => {\n        if (element) {\n            this.dialog = new MDCDialog(element);\n            this.dialog.listen(\"MDCDialog:accept\", () => {\n                // a fix for not closing the modal dialog properly\n                document.body.className = document.body.className.replace(\n                    \"mdc-dialog-scroll-lock\",\n                    \"\"\n                );\n                this.props.onDelete(this.props.expense);\n            });\n        }\n    }\n\n    parseDate(date) {\n        if (!date || date.indexOf('-') !== -1) {\n            return date;\n        }\n        const parts = date.split('/');\n        const year = +parts[2] + 2000;\n        const month = parts[1].length < 2 ? `0${parts[1]}` : parts[1];\n        const day = parts[0].length < 2 ? `0${parts[0]}` : parts[0];\n        return `${year}-${month}-${day}`;\n    }\n\n    render() {\n        return (\n            <form\n                onSubmit={this.handleSubmit}\n                ref={form => {\n                    this.form = form;\n                }}\n                noValidate\n            >\n                <aside className=\"mdc-dialog\" ref={this.initializeDeleteModal}>\n                    <div className=\"mdc-dialog__surface\">\n                        <header className=\"mdc-dialog__header\">\n                            <h2 className=\"mdc-dialog__header__title\">\n                                Are you sure?\n              </h2>\n                        </header>\n                        <section className=\"mdc-dialog__body\">\n                            Do you really want to delete the expense?\n            </section>\n                        <footer className=\"mdc-dialog__footer\">\n                            <button\n                                type=\"button\"\n                                className=\"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel\"\n                            >\n                                Cancel\n              </button>\n                            <button\n                                type=\"button\"\n                                className=\"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept\"\n                            >\n                                Delete\n              </button>\n                        </footer>\n                    </div>\n                </aside>\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"amount\"\n                            className=\"mdc-textfield__input\"\n                            ref={el => {\n                                this.amountInput = el;\n                            }}\n                            value={this.props.expense.amount}\n                            onChange={this.handleInputChange}\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            required\n                        />\n                        <label className=\"mdc-textfield__label\">Amount</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <ExpenseCategory\n                        name=\"category\"\n                        value={({ value: this.props.expense.category, label: this.props.expense.category, icon: this.props.icons[this.props.expense.category], topic: this.props.topics[this.props.expense.category] })}\n                        onChange={this.handleCategoryChange}\n                        options={this.props.categories.map(c => ({ value: c, label: c, icon: this.props.icons[c], topic: this.props.topics[c] }))}\n                    />\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"description\"\n                            className=\"mdc-textfield__input\"\n                            value={this.props.expense.description}\n                            onChange={this.handleInputChange}\n                            type=\"text\"\n                        />\n                        <label className=\"mdc-textfield__label\">Description</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"date\"\n                            className=\"mdc-textfield__input\"\n                            value={this.parseDate(this.props.expense.date)}\n                            onChange={this.handleInputChange}\n                            type=\"date\"\n                            required\n                        />\n                        <label className=\"mdc-textfield__label\">Date</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <select\n                        name=\"account\"\n                        className=\"mdc-select\"\n                        value={this.props.expense.account}\n                        onChange={this.handleInputChange}\n                        required\n                    >\n                        {this.props.accounts.map(account =>\n                            <option value={account} key={account}>{account}</option>\n                        )}\n                    </select>\n                </div>\n\n                <div className=\"mdc-form-field mdc-form-submit\">\n                    <input\n                        type=\"submit\"\n                        className=\"mdc-button\"\n                        value={this.props.expense.id ? \"Update\" : \"Add\"}\n                        disabled={!this.state.isValid}\n                    />\n                    {this.props.expense.id &&\n                        <input\n                            type=\"button\"\n                            className=\"mdc-button\"\n                            onClick={() => this.dialog.show()}\n                            value=\"Delete\"\n                        />}\n                    <input\n                        type=\"button\"\n                        className=\"mdc-button\"\n                        onClick={() => this.props.onCancel()}\n                        value=\"Close\"\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n\nexport default ExpenseForm;\n","import React, { Component } from \"react\";\n\nclass LoadingBar extends Component {\n  render() {\n    return (\n      <div className=\"center\">\n        <svg\n          width=\"80px\"\n          height=\"80px\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid\"\n        >\n          <circle cx=\"84\" cy=\"50\" r=\"0\" fill=\"#c0f6d2\">\n            <animate\n              attributeName=\"r\"\n              values=\"11;0;0;0;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"84;84;84;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n          <circle cx=\"40.0957\" cy=\"50\" r=\"11\" fill=\"#ff7c81\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.5s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.5s\"\n            />\n          </circle>\n          <circle cx=\"16\" cy=\"50\" r=\"7.79567\" fill=\"#fac090\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.25s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.25s\"\n            />\n          </circle>\n          <circle cx=\"84\" cy=\"50\" r=\"3.20433\" fill=\"#ffffcb\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n          <circle cx=\"74.0957\" cy=\"50\" r=\"11\" fill=\"#c0f6d2\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;0;11;11;11\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;16;50;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n        </svg>\n      </div>\n    );\n  }\n}\n\nexport default LoadingBar;\n","export default class SheetService {\n\n    constructor(clientId, spreadsheetId) {\n        this.clientId = clientId;\n        this.spreadsheetId = spreadsheetId;\n    }\n\n    // todo use observable - rxjs\n    login(signedInChangedCallback) {\n        window.gapi.load(\"client:auth2\", () => {\n            window.gapi.client\n                .init({\n                    discoveryDocs: [\n                        \"https://sheets.googleapis.com/$discovery/rest?version=v4\"\n                    ],\n                    clientId: this.clientId,\n                    scope:\n                        \"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.metadata.readonly\"\n                })\n                .then(() => {\n                    this.getAuthInstance()\n                        .isSignedIn.listen(signedInChangedCallback);\n                    signedInChangedCallback(\n                        this.getAuthInstance().isSignedIn.get()\n                    );\n                });\n        });\n    }\n\n    getAuthInstance() {\n        return window.gapi.auth2\n            .getAuthInstance();\n    }\n\n    append(value) {\n        return window.gapi.client.sheets.spreadsheets.values.append({\n            spreadsheetId: this.spreadsheetId,\n            range: \"Expenses!A1\",\n            valueInputOption: \"USER_ENTERED\",\n            insertDataOption: \"INSERT_ROWS\",\n            values: [value]\n        });\n    }\n\n    update(id, value) {\n        return window.gapi.client.sheets.spreadsheets.values.update({\n            spreadsheetId: this.spreadsheetId,\n            range: id,\n            valueInputOption: \"USER_ENTERED\",\n            values: [value]\n        });\n    }\n\n    delete(row) {\n        return window.gapi.client.sheets.spreadsheets\n            .batchUpdate({\n                spreadsheetId: this.spreadsheetId,\n                resource: {\n                    requests: [\n                        {\n                            deleteDimension: {\n                                range: {\n                                    sheetId: 0,\n                                    dimension: \"ROWS\",\n                                    startIndex: row - 1,\n                                    endIndex: row\n                                }\n                            }\n                        }\n                    ]\n                }\n            });\n    }\n\n    load() {\n        return window.gapi.client.sheets.spreadsheets.values\n            .batchGet({\n                spreadsheetId: this.spreadsheetId,\n                ranges: [\n                    \"Data!A2:A200\",\n                    \"Data!E2:E200\",\n                    \"Data!F2:F200\",\n                    \"Data!G2:G200\",\n                    \"Expenses!A2:F\",\n                    \"Current!H1\",\n                    \"Previous!H1\"\n                ]\n            })\n    }\n}\n","import React, { Component } from \"react\";\nimport { ExpenseList, ExpenseForm, LoadingBar } from \"./components/index\";\nimport { MDCSnackbar } from \"@material/snackbar/dist/mdc.snackbar.js\";\nimport SheetService from \"./services/SheetService\";\n\nimport \"@material/fab/dist/mdc.fab.css\";\nimport \"@material/button/dist/mdc.button.css\";\nimport \"@material/toolbar/dist/mdc.toolbar.css\";\nimport \"@material/snackbar/dist/mdc.snackbar.css\";\nimport \"@material/card/dist/mdc.card.css\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n    constructor() {\n        super();\n\n        // todo move it to se else\n        this.clientId = '758679234250-t9fh8t8ph9pssqb5kekseinfgout8f9i.apps.googleusercontent.com';\n        this.spreadsheetId = '1Z-1RXh51c74cw4KMzuSfZ_8NZ34qbNz0McOZMLOyOrY';\n\n        this.state = {\n            signedIn: undefined,\n            accounts: [],\n            categories: [],\n            expenses: [],\n            processing: true,\n            expense: {},\n            currentMonth: undefined,\n            previousMonth: undefined,\n            showExpenseForm: false\n        };\n\n        this.sheetService = new SheetService(this.clientId, this.spreadsheetId);\n    }\n\n    componentDidMount() {\n        this.sheetService.login(this.signedInChanged);\n        // window.gapi.load(\"client:auth2\", () => {\n        //     window.gapi.client\n        //       .init({\n        //         discoveryDocs: [\n        //           \"https://sheets.googleapis.com/$discovery/rest?version=v4\"\n        //         ],\n        //         clientId: this.clientId,\n        //         scope:\n        //           \"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.metadata.readonly\"\n        //       })\n        //       .then(() => {\n        //         window.gapi.auth2\n        //           .getAuthInstance()\n        //           .isSignedIn.listen(this.signedInChanged);\n        //         this.signedInChanged(\n        //           window.gapi.auth2.getAuthInstance().isSignedIn.get()\n        //         );\n        //       });\n        //   });\n        document.addEventListener(\"keyup\", this.onKeyPressed.bind(this));\n    }\n\n    onKeyPressed = (e) => {\n        if (this.state.signedIn === true) {\n            if (this.state.showExpenseForm === false) {\n                if (e.keyCode === 65) { // a\n                    this.onExpenseNew()\n                }\n            } else {\n                if (e.keyCode === 27) { // escape\n                    this.handleExpenseCancel()\n                }\n            }\n        }\n    }\n\n    signedInChanged = (signedIn) => {\n        this.setState({ signedIn: signedIn });\n        if (this.state.signedIn) {\n            this.load();\n        }\n    }\n\n    handleExpenseSubmit = () => {\n        this.setState({ processing: true, showExpenseForm: false });\n        const submitAction = (this.state.expense.id\n            ? this.update\n            : this.append).bind(this);\n        submitAction(this.state.expense).then(\n            () => {\n                this.snackbar.show({\n                    message: `Expense ${this.state.expense.id ? \"updated\" : \"added\"}!`\n                });\n                this.load();\n            },\n            response => {\n                console.error(\"Something went wrong\");\n                console.error(response);\n                this.setState({ loading: false });\n            }\n        );\n    }\n\n    handleExpenseChange = (attribute, value) => {\n        this.setState({\n            expense: Object.assign({}, this.state.expense, { [attribute]: value })\n        });\n    }\n\n    handleExpenseDelete = (expense) => {\n        this.setState({ processing: true, showExpenseForm: false });\n        const expenseRow = expense.id.substring(10);\n        this.sheetService.delete(expenseRow)\n            .then(\n                () => {\n                    this.snackbar.show({ message: \"Expense deleted!\" });\n                    this.load();\n                },\n                response => {\n                    console.error(\"Something went wrong\");\n                    console.error(response);\n                    this.setState({ loading: false });\n                }\n            );\n    }\n\n    handleExpenseSelect = (expense) => {\n        this.setState({ expense: expense, showExpenseForm: true });\n    }\n\n    handleExpenseCancel = () => {\n        this.setState({ showExpenseForm: false });\n    }\n\n    onExpenseNew() {\n        const now = new Date();\n        this.setState({\n            showExpenseForm: true,\n            expense: {\n                amount: \"\",\n                description: \"\",\n                date: `${now.getFullYear()}-${now.getMonth() < 9\n                    ? \"0\" + (now.getMonth() + 1)\n                    : now.getMonth() + 1}-${now.getDate() < 10\n                        ? \"0\" + now.getDate()\n                        : now.getDate()}`,\n                category: this.state.categories[0],\n                account: this.state.accounts[0]\n            }\n        });\n    }\n\n    parseExpense(value, index, topics, icons) {\n        const category = value[3];\n        return {\n            id: `Expenses!A${index + 2}`,\n            date: value[0],\n            description: value[1],\n            category: category,\n            topic: topics[category],\n            icon: icons[category],\n            amount: value[4].replace(\",\", \"\"),\n            account: value[2]\n        };\n    }\n\n    formatExpense(expense) {\n        return [\n            `=DATE(${expense.date.substr(0, 4)}, ${expense.date.substr(\n                5,\n                2\n            )}, ${expense.date.substr(-2)})`,\n            expense.description,\n            expense.account,\n            expense.category,\n            expense.amount\n        ];\n    }\n\n    append(expense) {\n        return this.sheetService.append(this.formatExpense(expense));\n    }\n\n    update(expense) {\n        return this.sheetService.update(expense.id, this.formatExpense(expense));\n    }\n\n    load() {\n        this.sheetService.load()\n            .then(response => {\n                const data = response.result.valueRanges;\n                const accounts = data[0].values.map(\n                    items => items[0]\n                );\n                \n                const categories = data[1].values.map(\n                    items => items[0]\n                );\n                const topics = {};\n                const icons = {};\n                for (let i = 0; i < Math.min(categories.length, data[2].values.length, data[3].values.length); i++) {\n                    topics[categories[i]] = data[2].values[i][0];\n                    icons[categories[i]] = data[3].values[i][0];\n                }\n\n                this.setState({\n                    accounts,\n                    categories,\n                    topics,\n                    icons,\n                    expenses: (data[4].values || [])\n                        .map((value, i) => this.parseExpense(value, i, topics, icons))\n                        .reverse()\n                        .slice(0, 30),\n                    processing: false,\n                    currentMonth: data[5].values[0][0],\n                    previousMonth: data[6].values[0][0]\n                });\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <header className=\"mdc-toolbar mdc-toolbar--fixed\">\n                    <div className=\"mdc-toolbar__row\">\n                        <section className=\"mdc-toolbar__section mdc-toolbar__section--align-start\">\n                            <span className=\"mdc-toolbar__title\">Expenses</span>\n                        </section>\n                        <section\n                            className=\"mdc-toolbar__section mdc-toolbar__section--align-end\"\n                            role=\"toolbar\"\n                        >\n                            {this.state.signedIn === false &&\n                                <a\n                                    className=\"material-icons mdc-toolbar__icon\"\n                                    aria-label=\"Sign in\"\n                                    alt=\"Sign in\"\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        this.sheetService.getAuthInstance().signIn();\n                                    }}\n                                >\n                                    perm_identity\n                </a>}\n                            {this.state.signedIn &&\n                                <a\n                                    className=\"material-icons mdc-toolbar__icon\"\n                                    aria-label=\"Sign out\"\n                                    alt=\"Sign out\"\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        this.sheetService.getAuthInstance().signOut();\n                                    }}\n                                >\n                                    exit_to_app\n                </a>}\n                        </section>\n                    </div>\n                </header>\n                <div className=\"toolbar-adjusted-content\">\n                    {this.state.signedIn === undefined && <LoadingBar />}\n                    {this.state.signedIn === false &&\n                        <div className=\"center\">\n                            <button\n                                className=\"mdc-button sign-in\"\n                                aria-label=\"Sign in\"\n                                onClick={() => {\n                                    this.sheetService.getAuthInstance().signIn();\n                                }}\n                            >\n                                Sign In\n              </button>\n                        </div>}\n                    {this.state.signedIn && this.renderBody()}\n                </div>\n                <div\n                    ref={el => {\n                        if (el) {\n                            this.snackbar = new MDCSnackbar(el);\n                        }\n                    }}\n                    className=\"mdc-snackbar\"\n                    aria-live=\"assertive\"\n                    aria-atomic=\"true\"\n                    aria-hidden=\"true\"\n                >\n                    <div className=\"mdc-snackbar__text\" />\n                    <div className=\"mdc-snackbar__action-wrapper\">\n                        <button\n                            type=\"button\"\n                            className=\"mdc-button mdc-snackbar__action-button\"\n                            aria-hidden=\"true\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderBody() {\n        if (this.state.processing) return <LoadingBar />;\n        else\n            return (\n                <div className=\"content\">\n                    {this.renderExpenses()}\n                </div>\n            );\n    }\n\n    renderExpenses() {\n        if (this.state.showExpenseForm)\n            return (\n                <ExpenseForm\n                    categories={this.state.categories}\n                    icons={this.state.icons}\n                    topics={this.state.topics}\n                    accounts={this.state.accounts}\n                    expense={this.state.expense}\n                    onSubmit={this.handleExpenseSubmit}\n                    onCancel={this.handleExpenseCancel}\n                    onDelete={this.handleExpenseDelete}\n                    onChange={this.handleExpenseChange}\n                />\n            );\n        else\n            return (\n                <div>\n                    <div className=\"mdc-card\">\n                        <section className=\"mdc-card__primary\">\n                            <h2 className=\"mdc-card__subtitle\">This month you've spent:</h2>\n                            <h1 className=\"mdc-card__title mdc-card__title--large center\">\n                                {this.state.currentMonth}\n                            </h1>\n                        </section>\n                        <section className=\"mdc-card__supporting-text\">\n                            Previous month: {this.state.previousMonth}\n                        </section>\n                    </div>\n                    <ExpenseList\n                        expenses={this.state.expenses}\n                        onSelect={this.handleExpenseSelect}\n                    />\n                    <button\n                        onClick={() => this.onExpenseNew()}\n                        className=\"mdc-fab app-fab--absolute material-icons\"\n                        aria-label=\"Add expense\"\n                    >\n                        <span className=\"mdc-fab__icon\">add</span>\n                    </button>\n                </div>\n            );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport \"material-icons/css/material-icons.css\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === \"installed\") {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log(\"New content is available; please refresh.\");\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log(\"Content is cached for offline use.\");\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error(\"Error during service worker registration:\", error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}