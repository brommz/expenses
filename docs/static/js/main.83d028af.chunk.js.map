{"version":3,"sources":["components/expense-list/ExpenseIcon.js","components/expense-list/ExpenseDetail.js","components/expense-list/ExpenseList.js","components/expense-form/ExpenseCategory.js","components/expense-form/ExpenseForm.js","components/LoadingBar.js","services/SheetService.js","App.js","index.js","registerServiceWorker.js"],"names":["ExpenseIcon","className","this","props","icon","role","aria-hidden","Component","ExpenseDetail","onClick","onSelect","expense","category","topic","date","description","replace","amount","ExpenseList","expenses","map","id","ExpenseCategory","componentProps","Option","components","customSelectOption","p","data","label","customSelectValue","value","onChange","options","SingleValue","ExpenseForm","handleInputChange","event","target","reportValidity","setState","isValid","form","checkValidity","name","handleCategoryChange","handleSubmit","preventDefault","parseDate","onSubmit","initializeDeleteModal","element","dialog","MDCDialog","listen","document","body","onDelete","state","querySelectorAll","forEach","selector","MDCTextfield","undefined","amountInput","focus","indexOf","parts","split","year","month","length","day","ref","noValidate","type","el","step","min","required","icons","topics","categories","c","account","accounts","disabled","show","onCancel","LoadingBar","width","height","xmlns","viewBox","preserveAspectRatio","cx","cy","r","fill","attributeName","values","keyTimes","keySplines","calcMode","dur","repeatCount","begin","SheetService","clientId","spreadsheetId","signedInChangedCallback","window","gapi","load","client","init","discoveryDocs","scope","then","getAuthInstance","isSignedIn","get","auth2","sheets","spreadsheets","append","range","valueInputOption","insertDataOption","update","row","batchUpdate","resource","requests","deleteDimension","sheetId","dimension","startIndex","endIndex","batchGet","ranges","App","onKeyPressed","e","signedIn","showExpenseForm","keyCode","onExpenseNew","handleExpenseCancel","signedInChanged","handleExpenseSubmit","processing","bind","submitAction","snackbar","message","response","console","error","loading","handleExpenseChange","attribute","Object","assign","handleExpenseDelete","expenseRow","substring","sheetService","delete","handleExpenseSelect","currentMonth","previousMonth","login","addEventListener","now","Date","getFullYear","getMonth","getDate","index","substr","formatExpense","result","valueRanges","items","i","Math","parseExpense","reverse","slice","aria-label","alt","signIn","signOut","renderBody","MDCSnackbar","aria-live","aria-atomic","renderExpenses","ReactDOM","render","getElementById","navigator","swUrl","process","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch"],"mappings":"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","file":"static/js/main.83d028af.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class ExpenseIcon extends Component {\n  render() {\n    return (\n      <span\n        className={`mdc-list-item__start-detail ${this.props.icon}`}\n        role=\"presentation\"\n      >\n        <i className=\"material-icons\" aria-hidden=\"true\">\n          {this.props.icon || 'attach_money'}\n        </i>\n      </span>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ExpenseIcon from \"./ExpenseIcon\";\n\nexport default class ExpenseDetail extends Component {\n\n  render() {\n    return (\n      <li\n        className=\"mdc-list-item\"\n        onClick={() => this.props.onSelect(this.props.expense)}\n      >\n        <ExpenseIcon icon={this.props.expense.icon} />\n        <span className=\"mdc-list-item__text\">\n          {this.props.expense.category} ({this.props.expense.topic})\n          <span className=\"mdc-list-item__text__secondary\">\n            {this.props.expense.date}\n            {this.props.expense.description\n              ? ` ${this.props.expense.description.replace(/^(.{14}).+/, \"$1â€¦\")}`\n              : \"\"}\n          </span>\n        </span>\n        <span className=\"mdc-list-item__end-detail\">\n          ${this.props.expense.amount}\n        </span>\n      </li>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport ExpenseDetail from \"./ExpenseDetail.js\"\nimport \"@material/list/dist/mdc.list.css\";\nimport \"./ExpenseList.css\";\n\nclass ExpenseList extends Component {\n  render() {\n    return (\n      <ul className=\"mdc-list mdc-list--two-line mdc-list--avatar-list\">\n        {this.props.expenses.map(expense =>\n          <ExpenseDetail\n            key={expense.id}\n            expense={expense}\n            onSelect={this.props.onSelect}\n          />\n        )}\n      </ul>\n    );\n  }\n}\n\nexport default ExpenseList;\n","import React, { Component } from 'react';\nimport Select, { components } from 'react-select'\n\nexport default class ExpenseCategory extends Component {\n    constructor(componentProps) {\n        super(componentProps);\n\n        const { Option } = components\n        this.customSelectOption = p => (\n            <Option {...p}>\n                <i className=\"material-icons\" aria-hidden=\"true\">\n                    {p.data.icon || 'attach_money'}\n                </i>\n\n                {p.data.label}\n            </Option>\n        );\n\n        this.customSelectValue = props => (\n            <div>\n                <i className=\"material-icons\" aria-hidden=\"true\">\n                    {props.data.icon || 'attach_money'}\n                </i>\n\n                {props.data.label}\n            </div>\n        );\n    }\n    render() {\n        return (\n            <Select\n                value={this.props.value}\n                onChange={this.props.onChange}\n                options={this.props.options}\n                components={{ Option: this.customSelectOption, SingleValue: this.customSelectValue }}\n            />\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { MDCTextfield } from \"@material/textfield/dist/mdc.textfield.js\";\nimport { MDCDialog } from \"@material/dialog/dist/mdc.dialog.js\";\n\nimport \"@material/form-field/dist/mdc.form-field.css\";\nimport \"@material/select/dist/mdc.select.css\";\nimport \"@material/textfield/dist/mdc.textfield.css\";\nimport \"@material/button/dist/mdc.button.css\";\nimport \"@material/dialog/dist/mdc.dialog.css\";\n\nimport \"./ExpenseForm.css\";\nimport ExpenseCategory from \"./ExpenseCategory\";\n\nclass ExpenseForm extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { isValid: false };\n    }\n\n    handleInputChange = (event) => {\n        const target = event.target;\n        target.reportValidity();\n        this.setState({ isValid: this.form.checkValidity() });\n        this.props.onChange(target.name, target.value);\n    }\n\n    handleCategoryChange = (event) => {\n        const value = event.value;\n        if (!value) {\n            throw 'Category cannot be empty';\n        }\n        this.setState({ isValid: this.form.checkValidity() });\n        this.props['expense']['category'] = value;\n        this.props['expense']['topic'] = 'topic-mock';\n        this.props['expense']['icon'] = 'face';\n    }\n\n    componentDidMount() {\n        document.querySelectorAll(\".mdc-textfield\").forEach(selector => {\n            new MDCTextfield(selector);\n        });\n        if (this.props.expense.id === undefined) {\n            this.amountInput.focus();\n        }\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.props['expense']['date'] = this.parseDate(this.props['expense']['date']);\n        this.props.onSubmit();\n    }\n\n    initializeDeleteModal = (element) => {\n        if (element) {\n            this.dialog = new MDCDialog(element);\n            this.dialog.listen(\"MDCDialog:accept\", () => {\n                // a fix for not closing the modal dialog properly\n                document.body.className = document.body.className.replace(\n                    \"mdc-dialog-scroll-lock\",\n                    \"\"\n                );\n                this.props.onDelete(this.props.expense);\n            });\n        }\n    }\n\n    parseDate(date) {\n        if (!date || date.indexOf('-') !== -1) {\n            return date;\n        }\n        const parts = date.split('/');\n        const year = +parts[2] + 2000;\n        const month = parts[1].length < 2 ? `0${parts[1]}` : parts[1];\n        const day = parts[0].length < 2 ? `0${parts[0]}` : parts[0];\n        return `${year}-${month}-${day}`;\n    }\n\n    render() {\n        return (\n            <form\n                onSubmit={this.handleSubmit}\n                ref={form => {\n                    this.form = form;\n                }}\n                noValidate\n            >\n                <aside className=\"mdc-dialog\" ref={this.initializeDeleteModal}>\n                    <div className=\"mdc-dialog__surface\">\n                        <header className=\"mdc-dialog__header\">\n                            <h2 className=\"mdc-dialog__header__title\">\n                                Are you sure?\n              </h2>\n                        </header>\n                        <section className=\"mdc-dialog__body\">\n                            Do you really want to delete the expense?\n            </section>\n                        <footer className=\"mdc-dialog__footer\">\n                            <button\n                                type=\"button\"\n                                className=\"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel\"\n                            >\n                                Cancel\n              </button>\n                            <button\n                                type=\"button\"\n                                className=\"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept\"\n                            >\n                                Delete\n              </button>\n                        </footer>\n                    </div>\n                </aside>\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"amount\"\n                            className=\"mdc-textfield__input\"\n                            ref={el => {\n                                this.amountInput = el;\n                            }}\n                            value={this.props.expense.amount}\n                            onChange={this.handleInputChange}\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            required\n                        />\n                        <label className=\"mdc-textfield__label\">Amount</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <ExpenseCategory\n                        name=\"category\"\n                        value={({ value: this.props.expense.category, label: this.props.expense.category, icon: this.props.icons[this.props.expense.category], topic: this.props.topics[this.props.expense.category] })}\n                        onChange={this.handleCategoryChange}\n                        options={this.props.categories.map(c => ({ value: c, label: c, icon: this.props.icons[c], topic: this.props.topics[c] }))}\n                    />\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"description\"\n                            className=\"mdc-textfield__input\"\n                            value={this.props.expense.description}\n                            onChange={this.handleInputChange}\n                            type=\"text\"\n                        />\n                        <label className=\"mdc-textfield__label\">Description</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <div className=\"mdc-textfield\">\n                        <input\n                            name=\"date\"\n                            className=\"mdc-textfield__input\"\n                            value={this.parseDate(this.props.expense.date)}\n                            onChange={this.handleInputChange}\n                            type=\"date\"\n                            required\n                        />\n                        <label className=\"mdc-textfield__label\">Date</label>\n                    </div>\n                </div>\n\n                <div className=\"mdc-form-field\">\n                    <select\n                        name=\"account\"\n                        className=\"mdc-select\"\n                        value={this.props.expense.account}\n                        onChange={this.handleInputChange}\n                        required\n                    >\n                        {this.props.accounts.map(account =>\n                            <option value={account} key={account}>{account}</option>\n                        )}\n                    </select>\n                </div>\n\n                <div className=\"mdc-form-field mdc-form-submit\">\n                    <input\n                        type=\"submit\"\n                        className=\"mdc-button\"\n                        value={this.props.expense.id ? \"Update\" : \"Add\"}\n                        disabled={!this.state.isValid}\n                    />\n                    {this.props.expense.id &&\n                        <input\n                            type=\"button\"\n                            className=\"mdc-button\"\n                            onClick={() => this.dialog.show()}\n                            value=\"Delete\"\n                        />}\n                    <input\n                        type=\"button\"\n                        className=\"mdc-button\"\n                        onClick={() => this.props.onCancel()}\n                        value=\"Close\"\n                    />\n                </div>\n            </form>\n        );\n    }\n}\n\nexport default ExpenseForm;\n","import React, { Component } from \"react\";\n\nclass LoadingBar extends Component {\n  render() {\n    return (\n      <div className=\"center\">\n        <svg\n          width=\"80px\"\n          height=\"80px\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 100 100\"\n          preserveAspectRatio=\"xMidYMid\"\n        >\n          <circle cx=\"84\" cy=\"50\" r=\"0\" fill=\"#c0f6d2\">\n            <animate\n              attributeName=\"r\"\n              values=\"11;0;0;0;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"84;84;84;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n          <circle cx=\"40.0957\" cy=\"50\" r=\"11\" fill=\"#ff7c81\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.5s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.5s\"\n            />\n          </circle>\n          <circle cx=\"16\" cy=\"50\" r=\"7.79567\" fill=\"#fac090\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.25s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"-0.25s\"\n            />\n          </circle>\n          <circle cx=\"84\" cy=\"50\" r=\"3.20433\" fill=\"#ffffcb\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;11;11;11;0\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;50;84;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n          <circle cx=\"74.0957\" cy=\"50\" r=\"11\" fill=\"#c0f6d2\">\n            <animate\n              attributeName=\"r\"\n              values=\"0;0;11;11;11\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n            <animate\n              attributeName=\"cx\"\n              values=\"16;16;16;50;84\"\n              keyTimes=\"0;0.25;0.5;0.75;1\"\n              keySplines=\"0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1;0 0.5 0.5 1\"\n              calcMode=\"spline\"\n              dur=\"1s\"\n              repeatCount=\"indefinite\"\n              begin=\"0s\"\n            />\n          </circle>\n        </svg>\n      </div>\n    );\n  }\n}\n\nexport default LoadingBar;\n","export default class SheetService {\n\n    constructor(clientId, spreadsheetId) {\n        this.clientId = clientId;\n        this.spreadsheetId = spreadsheetId;\n    }\n\n    // todo use observable - rxjs\n    login(signedInChangedCallback) {\n        window.gapi.load(\"client:auth2\", () => {\n            window.gapi.client\n                .init({\n                    discoveryDocs: [\n                        \"https://sheets.googleapis.com/$discovery/rest?version=v4\"\n                    ],\n                    clientId: this.clientId,\n                    scope:\n                        \"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.metadata.readonly\"\n                })\n                .then(() => {\n                    this.getAuthInstance()\n                        .isSignedIn.listen(signedInChangedCallback);\n                    signedInChangedCallback(\n                        this.getAuthInstance().isSignedIn.get()\n                    );\n                });\n        });\n    }\n\n    getAuthInstance() {\n        return window.gapi.auth2\n            .getAuthInstance();\n    }\n\n    append(value) {\n        return window.gapi.client.sheets.spreadsheets.values.append({\n            spreadsheetId: this.spreadsheetId,\n            range: \"Expenses!A1\",\n            valueInputOption: \"USER_ENTERED\",\n            insertDataOption: \"INSERT_ROWS\",\n            values: [value]\n        });\n    }\n\n    update(id, value) {\n        return window.gapi.client.sheets.spreadsheets.values.update({\n            spreadsheetId: this.spreadsheetId,\n            range: id,\n            valueInputOption: \"USER_ENTERED\",\n            values: [value]\n        });\n    }\n\n    delete(row) {\n        return window.gapi.client.sheets.spreadsheets\n            .batchUpdate({\n                spreadsheetId: this.spreadsheetId,\n                resource: {\n                    requests: [\n                        {\n                            deleteDimension: {\n                                range: {\n                                    sheetId: 0,\n                                    dimension: \"ROWS\",\n                                    startIndex: row - 1,\n                                    endIndex: row\n                                }\n                            }\n                        }\n                    ]\n                }\n            });\n    }\n\n    load() {\n        return window.gapi.client.sheets.spreadsheets.values\n            .batchGet({\n                spreadsheetId: this.spreadsheetId,\n                ranges: [\n                    \"Data!A2:A200\",\n                    \"Data!E2:E200\",\n                    \"Data!F2:F200\",\n                    \"Data!G2:G200\",\n                    \"Expenses!A2:F\",\n                    \"Current!H1\",\n                    \"Previous!H1\"\n                ]\n            })\n    }\n}\n","import React, { Component } from \"react\";\nimport { ExpenseList, ExpenseForm, LoadingBar } from \"./components/index\";\nimport { MDCSnackbar } from \"@material/snackbar/dist/mdc.snackbar.js\";\nimport SheetService from \"./services/SheetService\";\n\nimport \"@material/fab/dist/mdc.fab.css\";\nimport \"@material/button/dist/mdc.button.css\";\nimport \"@material/toolbar/dist/mdc.toolbar.css\";\nimport \"@material/snackbar/dist/mdc.snackbar.css\";\nimport \"@material/card/dist/mdc.card.css\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n    constructor() {\n        super();\n\n        // todo move it to se else\n        this.clientId = '758679234250-t9fh8t8ph9pssqb5kekseinfgout8f9i.apps.googleusercontent.com';\n        this.spreadsheetId = '1Z-1RXh51c74cw4KMzuSfZ_8NZ34qbNz0McOZMLOyOrY';\n\n        this.state = {\n            signedIn: undefined,\n            accounts: [],\n            categories: [],\n            expenses: [],\n            processing: true,\n            expense: {},\n            currentMonth: undefined,\n            previousMonth: undefined,\n            showExpenseForm: false\n        };\n\n        this.sheetService = new SheetService(this.clientId, this.spreadsheetId);\n    }\n\n    componentDidMount() {\n        this.sheetService.login(this.signedInChanged);\n        // window.gapi.load(\"client:auth2\", () => {\n        //     window.gapi.client\n        //       .init({\n        //         discoveryDocs: [\n        //           \"https://sheets.googleapis.com/$discovery/rest?version=v4\"\n        //         ],\n        //         clientId: this.clientId,\n        //         scope:\n        //           \"https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.metadata.readonly\"\n        //       })\n        //       .then(() => {\n        //         window.gapi.auth2\n        //           .getAuthInstance()\n        //           .isSignedIn.listen(this.signedInChanged);\n        //         this.signedInChanged(\n        //           window.gapi.auth2.getAuthInstance().isSignedIn.get()\n        //         );\n        //       });\n        //   });\n        document.addEventListener(\"keyup\", this.onKeyPressed.bind(this));\n    }\n\n    onKeyPressed = (e) => {\n        if (this.state.signedIn === true) {\n            if (this.state.showExpenseForm === false) {\n                if (e.keyCode === 65) { // a\n                    this.onExpenseNew()\n                }\n            } else {\n                if (e.keyCode === 27) { // escape\n                    this.handleExpenseCancel()\n                }\n            }\n        }\n    }\n\n    signedInChanged = (signedIn) => {\n        this.setState({ signedIn: signedIn });\n        if (this.state.signedIn) {\n            this.load();\n        }\n    }\n\n    handleExpenseSubmit = () => {\n        this.setState({ processing: true, showExpenseForm: false });\n        const submitAction = (this.state.expense.id\n            ? this.update\n            : this.append).bind(this);\n        submitAction(this.state.expense).then(\n            () => {\n                this.snackbar.show({\n                    message: `Expense ${this.state.expense.id ? \"updated\" : \"added\"}!`\n                });\n                this.load();\n            },\n            response => {\n                console.error(\"Something went wrong\");\n                console.error(response);\n                this.setState({ loading: false });\n            }\n        );\n    }\n\n    handleExpenseChange = (attribute, value) => {\n        this.setState({\n            expense: Object.assign({}, this.state.expense, { [attribute]: value })\n        });\n    }\n\n    handleExpenseDelete = (expense) => {\n        this.setState({ processing: true, showExpenseForm: false });\n        const expenseRow = expense.id.substring(10);\n        this.sheetService.delete(expenseRow)\n            .then(\n                () => {\n                    this.snackbar.show({ message: \"Expense deleted!\" });\n                    this.load();\n                },\n                response => {\n                    console.error(\"Something went wrong\");\n                    console.error(response);\n                    this.setState({ loading: false });\n                }\n            );\n    }\n\n    handleExpenseSelect = (expense) => {\n        this.setState({ expense: expense, showExpenseForm: true });\n    }\n\n    handleExpenseCancel = () => {\n        this.setState({ showExpenseForm: false });\n    }\n\n    onExpenseNew() {\n        const now = new Date();\n        this.setState({\n            showExpenseForm: true,\n            expense: {\n                amount: \"\",\n                description: \"\",\n                date: `${now.getFullYear()}-${now.getMonth() < 9\n                    ? \"0\" + (now.getMonth() + 1)\n                    : now.getMonth() + 1}-${now.getDate() < 10\n                        ? \"0\" + now.getDate()\n                        : now.getDate()}`,\n                category: this.state.categories[0],\n                account: this.state.accounts[0]\n            }\n        });\n    }\n\n    parseExpense(value, index, topics, icons) {\n        const category = value[3];\n        return {\n            id: `Expenses!A${index + 2}`,\n            date: value[0],\n            description: value[1],\n            category: category,\n            topic: topics[category],\n            icon: icons[category],\n            amount: value[4].replace(\",\", \"\"),\n            account: value[2]\n        };\n    }\n\n    formatExpense(expense) {\n        return [\n            `=DATE(${expense.date.substr(0, 4)}, ${expense.date.substr(\n                5,\n                2\n            )}, ${expense.date.substr(-2)})`,\n            expense.description,\n            expense.account,\n            expense.category,\n            expense.amount\n        ];\n    }\n\n    append(expense) {\n        return this.sheetService.append(this.formatExpense(expense));\n    }\n\n    update(expense) {\n        return this.sheetService.update(expense.id, this.formatExpense(expense));\n    }\n\n    load() {\n        this.sheetService.load()\n            .then(response => {\n                const data = response.result.valueRanges;\n                const accounts = data[0].values.map(\n                    items => items[0]\n                );\n                \n                const categories = data[1].values.map(\n                    items => items[0]\n                );\n                const topics = {};\n                const icons = {};\n                for (let i = 0; i < Math.min(categories.length, data[2].values.length, data[3].values.length); i++) {\n                    topics[categories[i]] = data[2].values[i][0];\n                    icons[categories[i]] = data[3].values[i][0];\n                }\n\n                this.setState({\n                    accounts,\n                    categories,\n                    topics,\n                    icons,\n                    expenses: (data[4].values || [])\n                        .map((value, i) => this.parseExpense(value, i, topics, icons))\n                        .reverse()\n                        .slice(0, 30),\n                    processing: false,\n                    currentMonth: data[5].values[0][0],\n                    previousMonth: data[6].values[0][0]\n                });\n            });\n    }\n\n    render() {\n        return (\n            <div>\n                <header className=\"mdc-toolbar mdc-toolbar--fixed\">\n                    <div className=\"mdc-toolbar__row\">\n                        <section className=\"mdc-toolbar__section mdc-toolbar__section--align-start\">\n                            <span className=\"mdc-toolbar__title\">Expenses</span>\n                        </section>\n                        <section\n                            className=\"mdc-toolbar__section mdc-toolbar__section--align-end\"\n                            role=\"toolbar\"\n                        >\n                            {this.state.signedIn === false &&\n                                <a\n                                    className=\"material-icons mdc-toolbar__icon\"\n                                    aria-label=\"Sign in\"\n                                    alt=\"Sign in\"\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        this.sheetService.getAuthInstance().signIn();\n                                    }}\n                                >\n                                    perm_identity\n                </a>}\n                            {this.state.signedIn &&\n                                <a\n                                    className=\"material-icons mdc-toolbar__icon\"\n                                    aria-label=\"Sign out\"\n                                    alt=\"Sign out\"\n                                    onClick={e => {\n                                        e.preventDefault();\n                                        this.sheetService.getAuthInstance().signOut();\n                                    }}\n                                >\n                                    exit_to_app\n                </a>}\n                        </section>\n                    </div>\n                </header>\n                <div className=\"toolbar-adjusted-content\">\n                    {this.state.signedIn === undefined && <LoadingBar />}\n                    {this.state.signedIn === false &&\n                        <div className=\"center\">\n                            <button\n                                className=\"mdc-button sign-in\"\n                                aria-label=\"Sign in\"\n                                onClick={() => {\n                                    this.sheetService.getAuthInstance().signIn();\n                                }}\n                            >\n                                Sign In\n              </button>\n                        </div>}\n                    {this.state.signedIn && this.renderBody()}\n                </div>\n                <div\n                    ref={el => {\n                        if (el) {\n                            this.snackbar = new MDCSnackbar(el);\n                        }\n                    }}\n                    className=\"mdc-snackbar\"\n                    aria-live=\"assertive\"\n                    aria-atomic=\"true\"\n                    aria-hidden=\"true\"\n                >\n                    <div className=\"mdc-snackbar__text\" />\n                    <div className=\"mdc-snackbar__action-wrapper\">\n                        <button\n                            type=\"button\"\n                            className=\"mdc-button mdc-snackbar__action-button\"\n                            aria-hidden=\"true\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderBody() {\n        if (this.state.processing) return <LoadingBar />;\n        else\n            return (\n                <div className=\"content\">\n                    {this.renderExpenses()}\n                </div>\n            );\n    }\n\n    renderExpenses() {\n        if (this.state.showExpenseForm)\n            return (\n                <ExpenseForm\n                    categories={this.state.categories}\n                    icons={this.state.icons}\n                    topics={this.state.topics}\n                    accounts={this.state.accounts}\n                    expense={this.state.expense}\n                    onSubmit={this.handleExpenseSubmit}\n                    onCancel={this.handleExpenseCancel}\n                    onDelete={this.handleExpenseDelete}\n                    onChange={this.handleExpenseChange}\n                />\n            );\n        else\n            return (\n                <div>\n                    <div className=\"mdc-card\">\n                        <section className=\"mdc-card__primary\">\n                            <h2 className=\"mdc-card__subtitle\">This month you've spent:</h2>\n                            <h1 className=\"mdc-card__title mdc-card__title--large center\">\n                                {this.state.currentMonth}\n                            </h1>\n                        </section>\n                        <section className=\"mdc-card__supporting-text\">\n                            Previous month: {this.state.previousMonth}\n                        </section>\n                    </div>\n                    <ExpenseList\n                        expenses={this.state.expenses}\n                        onSelect={this.handleExpenseSelect}\n                    />\n                    <button\n                        onClick={() => this.onExpenseNew()}\n                        className=\"mdc-fab app-fab--absolute material-icons\"\n                        aria-label=\"Add expense\"\n                    >\n                        <span className=\"mdc-fab__icon\">add</span>\n                    </button>\n                </div>\n            );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport \"material-icons/css/material-icons.css\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === \"installed\") {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log(\"New content is available; please refresh.\");\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log(\"Content is cached for offline use.\");\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error(\"Error during service worker registration:\", error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n"],"sourceRoot":""}